/**
 * Copyright (C) 2017 yanni4night.com
 * test.js
 *
 * changelog
 * 2017-06-29[14:20:49]:revised
 *
 * @author yanni4night@gmail.com
 * @version 0.1.0
 * @since 0.1.0
 */
import test from 'ava';
import {Linter}from 'eslint';
import fs from 'graceful-fs';

var linter = new Linter();

test('no duplicated keys', t => {

    var messages = linter.verify('var c = '+fs.readFileSync(__dirname + '/eslint.json', {
        'encoding': 'utf8'
    }), {
        rules: {
            "no-dupe-keys": 2
        }
    }, {
        filename: "eslint.json"
    });

    t.is(messages.length, 0);
});
